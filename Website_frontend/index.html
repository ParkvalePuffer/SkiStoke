<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SkiStoke - Your Ultimate Snow Forecast Destination</title>
  <meta name="description" content="Real-time snow forecasts, live webcams, and mountain conditions for ski resorts worldwide. Plan your next powder day with SkiStoke.">
  <meta name="keywords" content="snow forecast, ski conditions, mountain weather, powder tracking, ski resorts, snow depth">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>❄️</text></svg>">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <!-- Navigation -->
    <nav class="main-nav">
      <div class="nav-content">
        <div class="nav-brand">
          <h1>❄️ SkiStoke</h1>
        </div>
        <div class="nav-links">
          <a href="index.html" class="nav-link active">Home</a>
          <a href="about.html" class="nav-link">About Us</a>
          <a href="forecasts.html" class="nav-link">Forecasts</a>
          <a href="live-feeds.html" class="nav-link">Live Feeds</a>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-content">
        <h1 class="hero-title">SkiStoke: Your Ultimate Snow Forecast Hub</h1>
        
        <!-- Search Section -->
        <div class="search-section">
          <h3>Search Ski Resorts</h3>
          <div class="search-container">
            <input type="text" id="resort-search" placeholder="Search for a ski resort..." autocomplete="off">
            <div id="search-results" class="search-results hidden"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Features Section -->
    <section class="main-features-section">
      <div class="main-features-content">
        <div class="feature-cards-grid">
          <div class="main-feature-card">
            <h3>Real-Time Conditions</h3>
            <p>View HD live cams from top resorts worldwide, updated every 10 minutes with current temperature, wind data and snow depth measurements.</p>
            <a href="live-feeds.html" class="feature-link">View Live Feeds →</a>
          </div>
          <div class="main-feature-card">
            <h3>7-Day Forecasts</h3>
            <p>Detailed snow predictions with colour-coded ratings for conditions, avalanche risk, and confidence levels from our team of mountain meteorologists.</p>
            <a href="forecasts.html" class="feature-link">View Forecasts →</a>
          </div>
          <div class="main-feature-card">
            <h3>Resort Intelligence</h3>
            <p>Interactive maps showing real-time snowfall across 9+ global locations. Filter by recent powder dumps, forecast quality, or terrain preferences.</p>
            <a href="forecasts.html" class="feature-link">Explore Resorts →</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Featured Forecast Section -->
    <section class="featured-forecast-section">
      <div class="featured-forecast-content">
        <div class="forecast-main">
          <h2>Featured Forecast: Whistler Blackcomb</h2>
          <p>A major system approaching from the northwest will bring <strong>15-25cm fresh powder</strong> over the next 72 hours, with temperatures hovering around -5°C and moderate winds. Perfect conditions expected for Thursday morning runs.</p>
        </div>
        <div class="expert-alert">
          <div class="alert-icon">ℹ️</div>
          <div class="alert-content">
            <h4>Expert Snow Alert</h4>
            <p>This weekend's storm is tracking to be the <strong>largest January accumulation</strong> in the region since 2018. Our confidence level is 8/10.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="main-footer">
      <div class="footer-content">
        <div class="footer-brand">
          <h3>❄️ SkiStoke</h3>
          <p>Your ultimate snow forecast destination</p>
        </div>
        <div class="footer-links">
          <div class="footer-section">
            <h4>Navigation</h4>
            <a href="index.html">Home</a>
            <a href="about.html">About Us</a>
            <a href="forecasts.html">Forecasts</a>
            <a href="live-feeds.html">Live Feeds</a>
          </div>
          <div class="footer-section">
            <h4>Resources</h4>
            <a href="#">Weather Data</a>
            <a href="#">API Documentation</a>
            <a href="#">Support</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 SkiStoke. Powered by Open-Meteo weather data.</p>
      </div>
    </footer>
  </div>

  <script>
    // Ski resort data
    const skiResorts = [
      { name: 'Whistler', country: 'Canada', slug: 'whistler', lat: 50.1163, lon: -122.9574, elevation: 2000 },
      { name: 'Chamonix', country: 'France', slug: 'chamonix', lat: 45.9237, lon: 6.8694, elevation: 2000 },
      { name: 'Hakuba', country: 'Japan', slug: 'hakuba', lat: 36.6975, lon: 137.8375, elevation: 2000 },
      { name: 'Aspen', country: 'USA', slug: 'aspen', lat: 39.1911, lon: -106.8175, elevation: 2000 },
      { name: 'Niseko', country: 'Japan', slug: 'niseko', lat: 42.8047, lon: 140.6874, elevation: 2000 },
      { name: 'Verbier', country: 'Switzerland', slug: 'verbier', lat: 46.0992, lon: 7.2263, elevation: 2000 },
      { name: 'Bariloche', country: 'Argentina', slug: 'bariloche', lat: -41.1335, lon: -71.3103, elevation: 2000 },
      { name: 'Cardrona', country: 'New Zealand', slug: 'cardrona', lat: -44.8500, lon: 168.9500, elevation: 2000 },
      { name: 'Ohau', country: 'New Zealand', slug: 'ohau', lat: -44.2333, lon: 169.8500, elevation: 2000 }
    ];

    // Initialize search functionality
    document.addEventListener('DOMContentLoaded', function() {
      setupSearch();
    });

    function setupSearch() {
      const searchInput = document.getElementById('resort-search');
      const searchResults = document.getElementById('search-results');

      searchInput.addEventListener('input', function() {
        const query = this.value.toLowerCase().trim();
        
        if (query.length < 2) {
          searchResults.classList.add('hidden');
          return;
        }

        const filteredResorts = skiResorts.filter(resort => 
          resort.name.toLowerCase().includes(query) || 
          resort.country.toLowerCase().includes(query)
        );

        displaySearchResults(filteredResorts);
      });

      // Hide results when clicking outside
      document.addEventListener('click', function(e) {
        if (!e.target.closest('.search-container')) {
          searchResults.classList.add('hidden');
        }
      });
    }

    function displaySearchResults(resorts) {
      const searchResults = document.getElementById('search-results');
      
      if (resorts.length === 0) {
        searchResults.innerHTML = '<div class="search-result-item no-results">No resorts found</div>';
      } else {
        searchResults.innerHTML = resorts.map(resort => `
          <div class="search-result-item" onclick="goToResort('${resort.slug}')">
            <div class="resort-name">${resort.name}</div>
            <div class="resort-country">${resort.country}</div>
          </div>
        `).join('');
      }
      
      searchResults.classList.remove('hidden');
    }

    function goToResort(slug) {
      window.location.href = `resort-${slug}.html`;
    }
  </script>
</body>
</html>